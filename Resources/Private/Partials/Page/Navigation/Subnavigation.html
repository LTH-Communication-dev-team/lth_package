<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
    <f:if condition="{subNavigation}">
        <f:then>
            <ul class="nav-accordion nav-collapse nav-undecorated">
                <f:render section="SubnavigationItem" arguments="{menu:subNavigation}" />
            </ul>
        </f:then>
    </f:if>
    <f:section name="SubnavigationItem">
        <f:for each="{menu}" as="item" iteration="iterator">
            <f:if condition="{item.children}">
                <f:then>
                    <li>
                        <a title="{item.title}" href="{item.link}" class="nav-link collapse{f:if(condition:item.active,then:' collapse',else:' collapsed')}{f:if(condition:item.current,then:' active',else:'')}">
                            <f:if condition="{item.active}">
                                <f:then>
                                    <div class="float-right"><i class="fal fa-chevron-down"></i></div>
                                </f:then>
                                <f:else>
                                    <div class="float-right"><i class="fal fa-chevron-right"></i></div>
                                </f:else>
                            </f:if>
                            {item.title}
                        </a>
                        <ul class="nav-accordion collapse{f:if(condition:item.active,then:' show')}">
                            <f:render section="SubnavigationItem" arguments="{menu:item.children}" />
                        </ul>
                    </li>
                </f:then>
                <f:else>
                    <li><a title="{item.title}" href="{item.link}" class="nav-link{f:if(condition:item.current,then:' active',else:'')}">{item.title}</a></li>
                </f:else>
            </f:if>
        </f:for>
    </f:section>
</html>